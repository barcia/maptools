var f=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"];var s=t=>t&&Array.isArray(t),h=t=>typeof t=="number";var a=t=>!!(s(t)&&(t.length===2||t.length===3)&&t.every(h)),p=t=>!!(s(t)&&t.length>1&&t.every(a)),y=t=>!!(s(t)&&t.length>=1&&t.every(p)),O=t=>!!(s(t)&&t.length>=1&&t.every(a)),x=t=>!!(s(t)&&t.length>=1&&t.every(p)),P=t=>!!(s(t)&&t.length>=1&&t.every(y)),N={Point:a,LineString:p,Polygon:y,MultiPoint:O,MultiLineString:x,MultiPolygon:P},m=t=>f.includes(t);var g=(t,e)=>m(t)?N[t](e):!1;var n=class{constructor(e,r){this.type=e,this.coords=r,n.validate(this.type,this.coords)?this.element=this.#e(this.type,this.coords):this.element=null}#e(e,r){return{type:e,coordinates:r}}toJSON(){return this.element}static fromJSON(e){return new n(e.type,e.coordinates)}static validate(e,r){return!!(m(e)&&g(e,r))}},c=n;var o=class{constructor(e,r,i){this.type=e,this.coords=r,this.props=i,this.geometry=new c(this.type,this.coords),this.geometry.toJSON()!==null?this.element=this.#e(this.geometry.toJSON(),this.props):this.element=null}#e(e,r){return{type:"Feature",geometry:e||null,properties:r||{}}}addProperty(e,r){this.element.properties[e]=r}toJSON(){return this.element}static fromJSON(e){return new o(e.geometry.type,e.geometry.coordinates,e.properties)}},J=o;var l=class{constructor(e,r){this.features=e,this.props=r,this.element=this.#e(this.features,this.props)}#e(e,r){return{type:"FeatureCollection",features:e||[],properties:r||{}}}addFeatures(e){this.features.push(...e)}removeFeatures(e,r){let i=this.features.filter(e);if(r===!0)return i;i.forEach(S=>{let d=this.features.indexOf(S);this.features.splice(d,1)})}toJSON(){return this.element}static fromJSON(e){return new l(e.features,e.properties)}},G=l;var u=class{constructor(e){this.geometries=e,this.element=this.#e(this.geometries)}#e(e){return{type:"GeometryCollection",geometries:e||[]}}addGeometries(e){this.geometries.push(...e)}toJSON(){return this.element}static fromJSON(e){return new u(e.geometries)}},M=u;export{J as Feature,G as FeatureCollection,c as Geometry,M as GeometryCollection};
